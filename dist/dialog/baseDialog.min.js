!function(d){if("function"==typeof define&&define.amd)define(["jquery"],d);else{var t=window.util||(window.util={});t.baseDialog||(t.baseDialog=d(jQuery))}}(function(d){var t={};return function(a){var i=d.extend({cache:!0},a);if(t[i.id]&&i.cache)return t[i.id].modal("show");var e=[];e.push('<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" id="'+i.id+'">');var o=i.width?"width:"+i.width:"";e.push('<div class="modal-dialog '+(i.dialogSize||"")+'" style="'+o+'">'),e.push('<div class="modal-content">'),e.push('<div class="modal-header">'),e.push('<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'),e.push('<h4 class="modal-title">'+(i.title||"")+"</h4>"),e.push("</div>");var n=i.height?"min-height:"+i.height:"";e.push('<div class="modal-body" style="'+n+'"></div>');var s='style="border-bottom-right-radius:6px;border-bottom-left-radius:6px;padding:10px 20px 10px;background-color:#eff3f8;"';e.push('<div class="modal-footer" '+s+"></div>"),e.push("</div></div></div>");var l=d(e.join("")),r=function(t,a){var i="undefined"==typeof a?!0:a;if(t&&t.length){for(var e,o=l.find("div[class='modal-footer']").empty(),n=0;e=t[n++];)o.append(d('<button type="button" class="btn btn-primary" '+(e.close?'data-dismiss="modal"':"")+">"+e.name+"</button>").bind("click",e.callback));return o.append(i?'<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>':"")}},u=l.find("div[class='modal-body']").append(i.body||"");r(i.buttons),d("body").append(l);var c=d("#"+i.id).modal(i.modal||"show");return i.cache?t[i.id]=c:c.on("hidden.bs.modal",function(){c.remove()}),c.getBody=function(){return u},c.setBody=function(d){u.empty().append(d)},c.getFoot=function(){return l.find("div[class='modal-footer']")},c.setFoot=r,c.setTitle=function(d){l.find("h4[class='modal-title']").empty().append(d)},c}});